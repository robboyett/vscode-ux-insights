# Research Insights VSCode Extension - Complete specification

## Background and problem statement

Most developers work in isolation from user research and product context, leading to implementation decisions that don't align with user needs or business goals. There's a significant gap between the insights generated by UX researchers and product managers, and the developers who build the actual features.

**Current pain points:**
- Developers need to leave their IDE to access research insights
- Context switching reduces productivity and breaks flow
- Research documents are scattered across different tools and platforms
- Junior developers especially lack access to broader feature context
- Implementation decisions are made without considering user research
- Knowledge silos between research, product, and engineering teams

## The solution

The Research Insights extension bridges this gap by bringing user research, personas, and feature context directly into the development environment. It allows developers to access research insights without leaving VSCode, enabling better-informed technical decisions.

## Core concept

A VSCode extension that:
1. Automatically discovers research documentation in project folders
2. Displays research content in a rich, native interface
3. Provides easy access to user insights whilst coding
4. Scales from simple manual selection to intelligent contextual surfacing

## Use cases and user scenarios

### Primary use case: Feature development context
**Scenario**: Developer starts work on a new feature
1. Opens VSCode and sees available research files in sidebar
2. Clicks relevant feature research
3. Reviews user personas, pain points, and testing results
4. Makes implementation decisions informed by user research
5. Keeps research open as reference whilst coding

### Secondary use case: Code review enhancement
**Scenario**: Reviewer questions a design decision during code review
1. Uses Command Palette to open research panel
2. Finds relevant feature documentation
3. Locates design rationale and testing insights
4. Provides more informed feedback based on user research

### Tertiary use case: Knowledge democratisation
**Scenario**: Junior developer needs context on existing features
1. Browses available research files
2. Learns about user personas and business goals
3. Understands the "why" behind code they're maintaining
4. Makes better technical decisions aligned with user needs

## Technical architecture

### Extension structure
```
research-insights-extension/
├── package.json                # Extension manifest
├── tsconfig.json              # TypeScript configuration
├── src/
│   └── extension.ts           # Main extension logic
├── out/                       # Compiled JavaScript
└── node_modules/              # Dependencies
```

### Content discovery system
The extension searches for research content in multiple locations:

**Default search paths:**
- `./research-insights/`
- `./docs/research/`
- `./docs/ux/`
- `./research/`
- `./user-research/`
- `./insights/`

**Auto-detection algorithm:**
- Scans workspace root for folders containing keywords: "research", "ux", "user-research", "insights"
- Checks `docs/` subfolder for research-related directories
- Configurable via workspace settings

**File discovery:**
- Finds all `.md` files in detected folders
- Extracts titles from first `#` heading
- Collects file metadata (path, modified date)
- Supports multiple source folders simultaneously

### Configuration options
```json
{
  "researchInsights.folderPath": "./research-insights",
  "researchInsights.searchPaths": [
    "./research-insights", 
    "./docs/research", 
    "./docs/ux", 
    "./.research"
  ],
  "researchInsights.autoDetect": true
}
```

## User experience design

### Sidebar integration
- **Location**: Explorer panel (left sidebar)
- **Display**: Tree view showing available research files
- **Information**: File titles, source folders, last modified dates
- **Interaction**: Click to open research content

### Main research panel
- **Format**: Webview panel in main editor area
- **Layout**: Can be positioned side-by-side with code
- **Navigation**: Back button, scrollable content
- **Styling**: Native VSCode theming, professional typography

### File selector interface
- **Design**: Clean grid layout of available research files
- **Information**: Feature titles, source folder badges
- **Interaction**: One-click access to any research document
- **Organisation**: Sorted by last modified date

## Content format and structure

### Research document template
```markdown
# Feature name

## Overview
Brief description of the feature and its purpose

## Business case
- User problems being solved
- Business metrics and goals
- Competitive analysis
- ROI projections

## Target personas
### Primary persona
- Role and responsibilities
- Goals and motivations
- Technical comfort level
- Key behaviours

### Secondary persona
- [Similar structure]

## Pain points we're addressing
- Specific user frustrations
- Current workflow inefficiencies
- Quantified impact where possible

## Our hypothesis
What we believe will happen when we solve these problems

## Design and testing history
### Initial concept testing
- Method and participants
- Key findings
- Decisions made

### Prototype testing
- Testing approach
- Results and insights
- Changes implemented

### A/B testing results
- Variants tested
- Performance metrics
- Implementation decision

## Success metrics
- Primary success indicators
- Secondary metrics
- Baseline measurements

## Technical considerations
- Implementation requirements
- Performance targets
- Platform considerations

---
*Last updated: [date]*
*Next review: [date]*
```

### Content organisation principles
- **Developer-first structure**: Information ordered by relevance to implementation decisions
- **Scannable format**: Clear headings, bullet points, and visual hierarchy
- **Actionable insights**: Each section connects to specific development considerations
- **Living document**: Regular updates and review cycles

## Implementation details

### Core extension code
```typescript
// Main extension activation
export function activate(context: vscode.ExtensionContext) {
    const provider = new ResearchInsightsProvider(context);
    
    // Register tree data provider for sidebar
    vscode.window.registerTreeDataProvider('researchInsights', provider);
    
    // Register commands
    const openPanelCommand = vscode.commands.registerCommand(
        'researchInsights.openPanel', 
        () => ResearchPanel.createOrShow(context.extensionUri)
    );
    
    const openFileCommand = vscode.commands.registerCommand(
        'researchInsights.openFile', 
        (filePath: string) => ResearchPanel.createOrShow(context.extensionUri, filePath)
    );
    
    // Watch for configuration changes
    vscode.workspace.onDidChangeConfiguration(e => {
        if (e.affectsConfiguration('researchInsights.folderPath')) {
            provider.refresh();
        }
    });
}
```

### File discovery logic
```typescript
private getResearchFiles(): ResearchFile[] {
    const config = vscode.workspace.getConfiguration('researchInsights');
    const workspaceRoot = vscode.workspace.workspaceFolders[0].uri.fsPath;
    
    // Get search paths from configuration
    const searchPaths = config.get<string[]>('searchPaths', ['./research-insights']);
    const autoDetect = config.get<boolean>('autoDetect', true);
    
    // Auto-detect additional research folders
    if (autoDetect) {
        const detectedPaths = this.autoDetectResearchFolders(workspaceRoot);
        searchPaths.push(...detectedPaths);
    }
    
    // Search each path for markdown files
    const allFiles: ResearchFile[] = [];
    searchPaths.forEach(path => {
        const files = this.getMarkdownFilesFromPath(path);
        allFiles.push(...files);
    });
    
    return allFiles.sort((a, b) => 
        b.lastModified.getTime() - a.lastModified.getTime()
    );
}
```

### Webview rendering
```typescript
private _getContentHtml(content: string): string {
    const htmlContent = marked.parse(content);
    return `<!DOCTYPE html>
    <html>
    <head>
        <meta charset="UTF-8">
        <style>
            body {
                font-family: var(--vscode-font-family);
                line-height: 1.6;
                color: var(--vscode-foreground);
                background-color: var(--vscode-editor-background);
                max-width: 800px;
                margin: 0 auto;
                padding: 20px;
            }
            h1 {
                color: var(--vscode-textLink-foreground);
                border-bottom: 2px solid var(--vscode-textLink-foreground);
            }
            h2 {
                color: var(--vscode-textPreformat-foreground);
                margin-top: 30px;
            }
            /* Additional styling for professional appearance */
        </style>
    </head>
    <body>
        <button class="back-button" onclick="goBack()">← Back to List</button>
        ${htmlContent}
    </body>
    </html>`;
}
```

## Development workflow

### Setup process
1. **Create extension scaffold**:
   ```bash
   npm install -g yo generator-code
   yo code
   ```

2. **Install dependencies**:
   ```bash
   npm install marked
   npm install @types/vscode
   ```

3. **Configure TypeScript**:
   ```json
   {
     "compilerOptions": {
       "module": "commonjs",
       "target": "ES2020",
       "outDir": "out",
       "rootDir": "src",
       "strict": true
     }
   }
   ```

4. **Test extension**:
   - Open extension folder in VSCode/Cursor
   - Press `Cmd+Shift+P` → "Debug: Start Debugging"
   - New Extension Development Host window opens
   - Test functionality in sample workspace

### Mac-specific considerations
- Use `Cmd+Shift+P` instead of `F5` for debugging
- Extension works identically in Cursor (VSCode OSS-based)
- No code changes needed for Cursor compatibility

### Packaging and distribution
```bash
# Install packaging tool
npm install -g vsce

# Package extension
vsce package

# Creates: research-insights-0.1.0.vsix
```

## Deployment strategy

### Initial approach: Manual selection
- Developer selects research file from dropdown/grid
- Simple, reliable implementation
- Immediate value delivery
- Foundation for future enhancements

### Future enhancements: Intelligent surfacing
- Analyse current file/function context
- Surface relevant research automatically
- Integration with project management tools
- Git branch/commit message analysis

### Distribution options
1. **VSCode Marketplace**: Public availability
2. **Internal distribution**: `.vsix` file for enterprise teams
3. **Open source**: GitHub repository for community contributions

## Success metrics

### Adoption metrics
- Number of installations
- Daily active users
- Session duration with research panel open
- Files viewed per session

### Usage patterns
- Most frequently accessed research files
- Time spent reading vs. coding
- Correlation between research access and code quality

### Developer feedback
- Perceived value of research context
- Impact on implementation decisions
- Requests for additional features

## Future roadmap

### Phase 1: Core functionality (MVP)
- File discovery and display
- Rich markdown rendering
- Sidebar integration
- Basic configuration options

### Phase 2: Enhanced usability
- Search functionality within research files
- Bookmarking/favourites system
- Export options (PDF, HTML)
- Improved navigation and filtering

### Phase 3: Intelligent features
- Context-aware research surfacing
- Integration with project management tools
- Team sharing and collaboration features
- Analytics and usage insights

### Phase 4: Enterprise features
- Single sign-on integration
- Content management system connectivity
- Custom styling and branding
- Advanced permissions and access control

## Technical dependencies

### Required packages
```json
{
  "dependencies": {
    "marked": "^4.3.0"
  },
  "devDependencies": {
    "@types/vscode": "^1.74.0",
    "@types/node": "16.x",
    "typescript": "^4.9.4"
  }
}
```

### VSCode API usage
- `vscode.workspace` - File system access and configuration
- `vscode.window` - UI components and panels
- `vscode.commands` - Command registration and execution
- `vscode.TreeDataProvider` - Sidebar tree view
- `vscode.WebviewPanel` - Rich content display

### Browser compatibility
- Uses VSCode's webview technology
- Supports all VSCode themes automatically
- Responsive design for different panel sizes
- No external dependencies or CDN requirements

## Conclusion

The Research Insights extension represents a novel approach to bridging the gap between user research and software development. By bringing research context directly into the development environment, it enables better-informed technical decisions and improved user experience outcomes.

The extension's architecture supports both immediate value delivery through simple file browsing and future enhancements through intelligent content surfacing. Its flexible content discovery system works with existing project structures whilst providing options for customisation.

This specification provides the foundation for building a tool that could genuinely improve how development teams integrate user research into their daily workflows, ultimately leading to better products and user experiences.